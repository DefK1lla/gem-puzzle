!function e(t,n,r){function a(l,i){if(!n[l]){if(!t[l]){var c="function"==typeof require&&require;if(!i&&c)return c(l,!0);if(o)return o(l,!0);var u=new Error("Cannot find module '"+l+"'");throw u.code="MODULE_NOT_FOUND",u}var s=n[l]={exports:{}};t[l][0].call(s.exports,(function(e){return a(t[l][1][e]||e)}),s,s.exports,e,t,n,r)}return n[l].exports}for(var o="function"==typeof require&&require,l=0;l<r.length;l++)a(r[l]);return a}({1:[function(e,t,n){"use strict";var r;function a(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l,i,c,u,s,d,m=new Audio("./audio/click.mp3"),f=null===(r=JSON.parse(localStorage.getItem("isAudio")))||void 0===r||r,v={top:0,left:0,value:0},p=[];function y(e){s=0,d=0,localStorage.removeItem("game"),E()}function M(e){var t={};t.field=document.querySelector(".field").innerHTML,t.moves=document.querySelector(".stats__moves span").innerHTML;var n=document.querySelector(".stats__time span").innerHTML.split(":");t.time=60*n[0]+n[1],t.cellsCount=Math.pow(document.querySelector(".difficulty__current span").innerHTML.split("x")[0],2),t.cells=p;var r=t.cells.findIndex((function(e){return 0===e.value}));t.cells.splice(r,1,v),localStorage.setItem("game",JSON.stringify(t))}function h(e){}function L(e){e.target.classList.toggle("active"),f=!f,localStorage.setItem("isAudio",f)}function S(){var e,t,n=document.createElement("div");return n.className="stats",n.innerHTML='\n    <div class="stats__moves">\n      Moves: <span>'.concat(s||0,'</span>\n    </div>\n\n    <div class="stats__time">\n      Time: <span>').concat(d?Math.floor(d/60)+":"+(d%60>10?d%60:"0"+d%60):"0:0","</span>\n    </div>\n  "),t=null!=(e=d)?e:0,u=setInterval((function(){var e=document.querySelector(".stats__time span");t++,e.innerHTML="".concat(Math.floor(t/60),":").concat(t%60<10?"0"+t%60:t%60)}),1e3),n}function _(e,t,n,r){var a=document.createElement("div");return a.className="cell",a.style.width=n+"px",a.style.height=n+"px",a.style.left=r.left*n+"px",a.style.top=r.top*n+"px",p.push({left:r.left,top:r.top,value:t,elem:a}),a.innerHTML=t,a.addEventListener("click",(function(t){return b(e)})),a}function g(e){e.preventDefault(),i=Math.pow(e.target.innerHTML.split("x")[0],2),s=0,d=0,localStorage.removeItem("game"),E()}function b(e){var t=p[e];if(!(Math.abs(v.left-t.left)+Math.abs(v.top-t.top)>1)){document.querySelector(".stats__moves span").innerHTML++,f&&m.play(),t.elem.style.left=v.left*l+"px",t.elem.style.top=v.top*l+"px";var n=t.left,r=t.top;t.left=v.left,t.top=v.top,v.left=n,v.top=r;var a=p.every((function(e){return e===v||(0===v.top&&0===v.left?e.value===e.top*Math.sqrt(i)+e.left:e.value===e.top*Math.sqrt(i)+e.left+1)}));if(a){var o=document.querySelector(".stats__moves span").innerHTML,c=document.querySelector(".stats__time span").innerHTML;document.querySelector(".field").innerHTML="Hooray! You solved the puzzle in ".concat(c," and ").concat(o," moves!"),function(e,t){var n=localStorage.getItem("results"),r=n?JSON.parse(n):[];r.push({moves:e,time:t}),localStorage.setItem("results",JSON.stringify(r.sort((function(e,t){return t.moves-e.moves}))))}(o,c)}}}function E(){var e,t,n,r,o=JSON.parse(localStorage.getItem("game"));o?(i=null!==(t=null==o?void 0:o.cellsCount)&&void 0!==t?t:16,s=null!==(n=null==o?void 0:o.moves)&&void 0!==n?n:0,d=null!==(r=null==o?void 0:o.time)&&void 0!==r?r:0,v=o.cells.find((function(e){return 0===e.value})),e=o.cells):(p=[]).push(v={top:0,left:0,value:0});i||(i=16),(c=a(new Array(i-1).keys()).map((function(e){return e+1})).sort((function(e,t){return Math.random()-.5}))).unshift(0),document.body.innerHTML="",clearInterval(u),u=null;var m=function(){var e=document.createElement("div");e.className="btns";var t=document.createElement("button");t.className="btn",t.innerHTML="Start",t.addEventListener("click",y);var n=document.createElement("button");n.className="btn",n.innerHTML="Save",n.addEventListener("click",M);var r=document.createElement("button");r.className="btn",r.innerHTML="Results",r.addEventListener("click",h);var a=document.createElement("button");return a.className=f?"btn active":"btn",a.innerHTML="Sound",a.addEventListener("click",L),e.append(t,n,r,a),e}();document.body.append(m);var b=S();document.body.append(b);var E=function(e){l=320/Math.sqrt(i);var t=document.createElement("div");t.className="field",t.style.width="320px",t.style.height="320px";for(var n=0;n<i;n++)if(e&&e[n]){if(0===e[n].value)continue;var r=_(n,e[n].value,l,e[n]);t.append(r)}else{var a={left:n%Math.sqrt(i),top:(n-n%Math.sqrt(i))/Math.sqrt(i)},o=c[n];if(0===o)continue;var u=_(n,o,l,a);t.append(u)}return t}(e);document.body.append(E);var T=function(e){e=e?Math.sqrt(e)+"x"+Math.sqrt(e):"4x4";var t=document.createElement("div");t.className="difficulty";var n=document.createElement("div");n.className="difficulty__current",n.innerHTML="Frame size: <span>".concat(e,"</span>"),t.append(n);var r=document.createElement("ul");r.className="difficulty__list";for(var a=3;a<9;a++){var o=document.createElement("li");o.className="difficulty__item";var l=document.createElement("a");l.href="#",l.className="difficulty__link",l.innerHTML=a+"x"+a,l.addEventListener("click",g),o.append(l),r.append(o)}var i=document.createElement("div");return i.className="difficulty__other",i.innerHTML="Other sizes: ",i.append(r),t.append(i),t}(i);document.body.append(T)}p.push(v),document.addEventListener("DOMContentLoaded",(function(){E()}))},{}]},{},[1]);
//# sourceMappingURL=maps/main.min.js.map
